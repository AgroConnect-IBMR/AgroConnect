<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AgroConecta ‚Äì Plataforma Sustent√°vel</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <style>
    #map {
      height: 350px;
    }

    .leaflet-control.custom-control {
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.12);
      border-radius: 12px;
    }
  </style>
</head>

<body class="bg-green-50 text-gray-800 font-sans">

  <nav class="bg-green-700 text-white shadow-md">
    <div class="max-w-7xl mx-auto flex items-center justify-between p-4">
      <a class="text-xl font-bold">AgroConecta</a>
      <div class="flex items-center gap-4">
        <a href="login.html" class="hover:text-gray-200">Entrar</a>
        <a href="cadastro.html"
          class="bg-white text-green-700 font-semibold px-4 py-1 rounded-full shadow hover:bg-gray-100">Cadastrar</a>
      </div>
    </div>
  </nav>

  <section class="text-center py-16 bg-gradient-to-b from-green-600 to-green-400 text-white">
    <h2 class="text-4xl font-bold mb-3">Conectando o campo √† cidade</h2>
    <p class="text-lg mb-4">Ajudando produtores, consumidores e institui√ß√µes a crescer juntos.</p>
    <a href="cadastro.html"
      class="bg-white text-green-700 font-bold px-6 py-3 rounded-full shadow animate__animated animate__pulse animate__infinite hover:bg-gray-100">Conhe√ßa
      a plataforma</a>
  </section>

  <section class="max-w-6xl mx-auto my-10 grid grid-cols-1 md:grid-cols-3 gap-6 px-4">
    <div class="bg-white p-6 rounded-xl shadow hover:shadow-xl transition text-center">
      <div class="text-5xl mb-3">üë®‚Äçüåæ</div>
      <h5 class="font-bold mb-2">Cadastre-se como Produtor</h5>
      <p>Mostre seus produtos e alcance novos consumidores e institui√ß√µes.</p>
    </div>
    <div class="bg-white p-6 rounded-xl shadow hover:shadow-xl transition text-center">
      <div class="text-5xl mb-3">üõí</div>
      <h5 class="font-bold mb-2">Compre direto do campo</h5>
      <p>Encontre alimentos frescos e apoie a agricultura sustent√°vel.</p>
    </div>
    <div class="bg-white p-6 rounded-xl shadow hover:shadow-xl transition text-center">
      <div class="text-5xl mb-3">‚ù§Ô∏è</div>
      <h5 class="font-bold mb-2">Doe alimentos e ajude</h5>
      <p>Contribua com ONGs e projetos sociais que combatem a fome.</p>
    </div>
  </section>

  <section class="bg-white py-10 text-center">
    <h2 class="text-3xl font-bold mb-6">üó∫Ô∏è Pontos de Coleta e Venda</h2>
    <div class="max-w-3xl mx-auto px-4">
      <div id="map" class="w-full h-[350px] rounded-2xl shadow"></div>
    </div>
  </section>

  <div id="msgDoacao"
    class="hidden text-center bg-green-100 text-green-800 border border-green-300 rounded-lg p-4 font-bold w-full max-w-xl mx-auto mt-6">
    ‚úÖ Doa√ß√£o enviada com sucesso! Obrigado por contribuir.
  </div>

  <section class="py-10">
    <h2 class="text-3xl font-bold text-center mb-6">‚ù§Ô∏è √Årea de Doa√ß√µes</h2>
    <form class="bg-white shadow p-6 rounded-xl max-w-xl mx-auto">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
        <input id="inputProduto" type="text" placeholder="Produto"
          class="border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-green-600" />
        <input id="inputQuantidade" type="text" placeholder="Quantidade"
          class="border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-green-600" />
        <input id="inputLocal" type="text" placeholder="Local de entrega"
          class="border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-green-600" />
      </div>
      <div class="text-center">
        <button type="button" id="btnDoar"
          class="bg-green-700 text-white px-8 py-3 rounded-full shadow hover:bg-green-800">Enviar Doa√ß√£o</button>
      </div>
    </form>
  </section>

  <section class="py-10 bg-white">
    <h2 class="text-3xl font-bold text-center mb-8">üìö Sess√£o Educativa</h2>
    <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-6 px-4">
      <div class="bg-white shadow p-4 rounded-lg">
        <h5 class="font-semibold mb-2">Compostagem Dom√©stica</h5>
        <p>Aprenda a transformar restos org√¢nicos em adubo natural.</p>
      </div>
      <div class="bg-white shadow p-4 rounded-lg">
        <h5 class="font-semibold mb-2">Consumo Consciente</h5>
        <p>Dicas para reduzir o desperd√≠cio e fazer compras sustent√°veis.</p>
      </div>
      <div class="bg-white shadow p-4 rounded-lg">
        <h5 class="font-semibold mb-2">Agricultura Org√¢nica</h5>
        <p>Entenda os benef√≠cios da produ√ß√£o sem agrot√≥xicos.</p>
      </div>
    </div>
  </section>

  <footer class="bg-green-700 text-white text-center py-4 mt-6">
    <div class="flex justify-center gap-6">
      <a href="sobre.html" class="hover:underline">Sobre</a>
      <a href="contato.html" class="hover:underline">Contato</a>
      <a href="termos.html" class="hover:underline">Termos de Uso</a>
    </div>
  </footer>

  <script>
    document.getElementById("btnDoar").addEventListener("click", function () {
      const msg = document.getElementById("msgDoacao");
      msg.classList.remove("hidden");
      setTimeout(function () { msg.classList.add("hidden"); }, 4000);
    });
  </script>

  <script>
    var map = L.map('map').setView([-23.55, -46.63], 12);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom: 19, attribution: "¬© OpenStreetMap" }).addTo(map);

    var coletaIcon = L.icon({ iconUrl: 'https://cdn-icons-png.flaticon.com/512/684/684908.png', iconSize: [32, 32] });
    var vendaIcon = L.icon({ iconUrl: 'https://cdn-icons-png.flaticon.com/512/535/535285.png', iconSize: [32, 32] });

    var pontos = [
      { tipo: "coleta", nome: "Ponto de Coleta Central - SP", lat: -23.55052, lng: -46.633308, descricao: "Recebe frutas, verduras e hortali√ßas." },
      { tipo: "venda", nome: "Feira Org√¢nica Zona Norte - SP", lat: -23.48044, lng: -46.62014, descricao: "Venda direta do produtor." },
      { tipo: "coleta", nome: "ONG Amigos da Terra - SP", lat: -23.55581, lng: -46.63961, descricao: "Coleta alimentos para fam√≠lias carentes." },
      { tipo: "venda", nome: "Feira do Produtor Sul - SP", lat: -23.60012, lng: -46.64055, descricao: "Produtos frescos e org√¢nicos." },
      { tipo: "venda", nome: "Feira Org√¢nica da Gl√≥ria - RJ", lat: -22.92183, lng: -43.17495, descricao: "Feira de org√¢nicos tradicional aos domingos." },
      { tipo: "coleta", nome: "ONG Mesa Brasil SESC - RJ", lat: -22.90065, lng: -43.18334, descricao: "Recebe doa√ß√µes de alimentos para redistribui√ß√£o." },
      { tipo: "venda", nome: "Feira da Tijuca - RJ", lat: -22.92022, lng: -43.24296, descricao: "Venda direta de produtos agr√≠colas frescos." },
      { tipo: "coleta", nome: "Ponto de Coleta Maracan√£ - RJ", lat: -22.91216, lng: -43.23016, descricao: "Coleta alimentos para projetos comunit√°rios." }
    ];

    var coletaLayer = L.layerGroup();
    var vendaLayer = L.layerGroup();

    pontos.forEach(function (p) {
      var marker = L.marker([p.lat, p.lng], { icon: p.tipo === "coleta" ? coletaIcon : vendaIcon }).bindPopup("<b>" + p.nome + "</b><br>" + p.descricao + "<br><i>" + p.tipo.toUpperCase() + "</i>");
      if (p.tipo === "coleta") { coletaLayer.addLayer(marker); } else { vendaLayer.addLayer(marker); }
    });

    coletaLayer.addTo(map);
    vendaLayer.addTo(map);

    var filtros = L.control({ position: 'topright' });
    filtros.onAdd = function () {
      var div = L.DomUtil.create('div', 'leaflet-control custom-control p-3 bg-white rounded-lg');
      div.innerHTML = '<div class="font-semibold mb-2 text-sm">Filtros</div>' +
        '<button id="btnTodos" class="w-full mb-2 py-1 rounded bg-green-600 text-white text-sm">Mostrar todos</button>' +
        '<button id="btnColeta" class="w-full mb-2 py-1 rounded bg-blue-600 text-white text-sm">S√≥ Coleta</button>' +
        '<button id="btnVenda" class="w-full py-1 rounded bg-yellow-500 text-white text-sm">S√≥ Venda</button>';
      return div;
    };
    filtros.addTo(map);

    document.getElementById("btnTodos").onclick = function () { map.addLayer(coletaLayer); map.addLayer(vendaLayer); };
    document.getElementById("btnColeta").onclick = function () { map.addLayer(coletaLayer); map.removeLayer(vendaLayer); };
    document.getElementById("btnVenda").onclick = function () { map.addLayer(vendaLayer); map.removeLayer(coletaLayer); };

    var legenda = L.control({ position: 'bottomright' });
    legenda.onAdd = function () {
      var div = L.DomUtil.create('div', 'leaflet-control custom-control p-3 bg-white rounded-lg');
      div.innerHTML = '<div class="font-semibold mb-2 text-sm">Legenda</div>' +
        '<div class="flex items-center gap-2"><img src="https://cdn-icons-png.flaticon.com/512/684/684908.png" width="20" alt="coleta"> Ponto de Coleta</div>' +
        '<div class="flex items-center gap-2 mt-1"><img src="https://cdn-icons-png.flaticon.com/512/535/535285.png" width="20" alt="venda"> Ponto de Venda</div>';
      return div;
    };
    legenda.addTo(map);

    var botaoGeo = L.control({ position: "topleft" });
    botaoGeo.onAdd = function () {
      var div = L.DomUtil.create('div', 'leaflet-control custom-control p-2 bg-white rounded-lg');
      div.innerHTML = '<button id="btnGeo" class="py-1 px-2 rounded bg-indigo-500 text-white text-sm">üìç Minha localiza√ß√£o</button>';
      return div;
    };
    botaoGeo.addTo(map);

    document.getElementById("btnGeo").onclick = function () {
      if (!navigator.geolocation) { alert("Geolocaliza√ß√£o n√£o suportada."); return; }
      navigator.geolocation.getCurrentPosition(function (pos) {
        var lat = pos.coords.latitude;
        var lng = pos.coords.longitude;
        L.marker([lat, lng]).addTo(map).bindPopup("Voc√™ est√° aqui!").openPopup();
        map.setView([lat, lng], 15);
      }, function () { alert("N√£o foi poss√≠vel obter sua localiza√ß√£o."); });
    };
  </script>
</body>

</html>